fn bar() -> int:
    return 1

fn foo() -> fn () -> int:
    return bar

fn foofoo() -> fn () -> fn () -> int:
    return foo

fn test() -> int:
    let f = foo
    let ff = f()
    return (foo())() + ff() + ((foofoo())())()

fn twice(fn () -> int f) -> int:
    return f() + f()

fn bar2() -> int:
    return twice(bar)
